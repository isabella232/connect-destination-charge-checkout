<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Stripe Destination Charge with Checkout</title>
    <meta name="description" content="Stripe Destination Charge with Checkout" />

    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="css/normalize.css" />
    <link rel="stylesheet" href="css/global.css" />
    <script src="https://js.stripe.com/v3/"></script>
    <script src="/script.js" defer></script>
  </head>

  <body>
    <div class="sr-root">
      <div class="sr-main">
        <h1>Accept a payment with destination charges and Checkout</h1>
        <div class="spinner"></div>
        <!-- Section to display when no connected accounts have been created -->
        <div id="no-accounts-section" class="hidden">
          <div>You need to  <a href="https://stripe.com/docs/connect/collect-then-transfer-guide#create-account">create an account</a> before you can process a payment.</div>
        </div>
        <!-- Section to display when connected accounts have been created, but none have charges enabled -->
        <div id="disabled-accounts-section" class="hidden">
          <div>None of your recently created accounts have charges enabled. <span class="express hidden">Log in to an Express account's dashboard to complete the onboarding process.</span><span class="custom hidden">Manage your Custom accounts and complete the onboarding process <a href="https://dashboard.stripe.com/test/connect/accounts/overview">in the dashboard.</a></span><span class="standard hidden">View your Standard accounts <a href="https://dashboard.stripe.com/test/connect/accounts/overview">in your platform's dashboard</a>, and use their credentials to log in to Stripe and complete the onboarding process.</span></div>
          <form id="disabled-accounts-form" class="hidden">
            <div class="sr-form-row">
              <label for="disabled-accounts-select">Disabled account</label>
              <!-- Options are added to this select in JS -->
              <select id="disabled-accounts-select" class="sr-select"></select>
            </div>
            <div class="sr-form-row">
              <button type="submit" class='full-width'>View Express dashboard</button>
            </div>
          </form>
        </div>
        <!-- Section to display when at least one connected account has charges enabled -->
        <div id="enabled-accounts-section" class="hidden">
          <section class="container">
            <div>
              <h1 data-i18n="headline"></h1>
              <h4 data-i18n="subline"></h4>
              <div class="item-image">
                <img
                  src="guitar.png"
                  width="140"
                  height="160"
                />
              </div>
            </div>
            <div class="quantity-setter">
              <button class="increment-btn" id="subtract" disabled>
                -
              </button>
              <input type="number" id="quantity-input" min="1" value="1" />
              <button class="increment-btn" id="add">+</button>
            </div>
            <p class="sr-legal-text">Number of guitars (max 10)</p>
            <div class="sr-form-row">
              <label for="enabled-accounts-select">Pay to</label>
              <select id="enabled-accounts-select" class="sr-select"></select>
            </div>
            <button
              id="submit"
            ></button>
          </section>
          <div id="error-message"></div>
        </div>
      </div>
    </div>
  </body>
</html>
